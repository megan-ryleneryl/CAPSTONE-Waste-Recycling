<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Capstone Recycling Platform</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .card {
            background: white;
            border-radius: 16px;
            padding: 32px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            margin-bottom: 24px;
        }
        
        .btn {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(76, 175, 80, 0.3);
        }
        
        .btn-secondary {
            background: linear-gradient(45deg, #2196F3, #1976D2);
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #4CAF50;
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .header h1 {
            font-size: 3rem;
            color: white;
            margin-bottom: 16px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            font-size: 1.2rem;
            color: rgba(255,255,255,0.9);
        }
        
        .nav {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            padding: 16px 0;
            border-radius: 12px;
            margin-bottom: 24px;
        }
        
        .nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            gap: 32px;
        }
        
        .nav button {
            background: transparent;
            border: none;
            padding: 8px 16px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 6px;
            transition: all 0.3s ease;
        }
        
        .nav button:hover {
            background: #f0f0f0;
        }
        
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
            margin-top: 24px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            padding: 24px;
            border-radius: 12px;
            text-align: center;
        }
        
        .stat-card h3 {
            font-size: 2rem;
            margin-bottom: 8px;
        }
        
        .post-card {
            border: 1px solid #e0e0e0;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 16px;
            background: #fafafa;
        }
        
        .post-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 12px;
        }
        
        .status-badge {
            padding: 4px 12px;
            border-radius: 16px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .status-active { background: #E8F5E8; color: #2E7D32; }
        .status-pending { background: #FFF3E0; color: #F57C00; }
        .status-completed { background: #E3F2FD; color: #1976D2; }
        
        .items-list {
            background: white;
            border-radius: 8px;
            padding: 16px;
            margin-top: 12px;
        }
        
        .item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .item:last-child {
            border-bottom: none;
        }
        
        .btn-group {
            display: flex;
            gap: 12px;
            margin-top: 16px;
        }
        
        .btn-small {
            padding: 8px 16px;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // Landing Page Component
        const LandingPage = ({ onNavigate }) => (
            <div className="container">
                <div className="header">
                    <h1>üå± EcoConnect</h1>
                    <p>Connecting waste givers with collectors for a sustainable future</p>
                </div>
                
                <div className="card" style={{textAlign: 'center', maxWidth: '600px', margin: '0 auto'}}>
                    <h2 style={{marginBottom: '24px', color: '#333'}}>Welcome to the Recycling Platform</h2>
                    <p style={{marginBottom: '32px', fontSize: '18px', color: '#666'}}>
                        Join our community to reduce waste and earn rewards through recycling
                    </p>
                    
                    <div className="btn-group" style={{justifyContent: 'center'}}>
                        <button className="btn" onClick={() => onNavigate('login')}>
                            Sign In
                        </button>
                        <button className="btn btn-secondary" onClick={() => onNavigate('register')}>
                            Get Started
                        </button>
                    </div>
                    
                    <div style={{marginTop: '40px', display: 'grid', gridTemplateColumns: '1fr 1fr 1fr', gap: '24px'}}>
                        <div>
                            <h3 style={{color: '#4CAF50', marginBottom: '8px'}}>‚ôªÔ∏è Give</h3>
                            <p style={{fontSize: '14px'}}>Post your recyclable waste</p>
                        </div>
                        <div>
                            <h3 style={{color: '#4CAF50', marginBottom: '8px'}}>üöõ Collect</h3>
                            <p style={{fontSize: '14px'}}>Pick up waste and earn money</p>
                        </div>
                        <div>
                            <h3 style={{color: '#4CAF50', marginBottom: '8px'}}>üèÜ Earn</h3>
                            <p style={{fontSize: '14px'}}>Gain points and badges</p>
                        </div>
                    </div>
                </div>
            </div>
        );

        // Login Page Component
        const LoginPage = ({ onLogin, onNavigate }) => {
            const [email, setEmail] = useState('');
            const [password, setPassword] = useState('');

            const handleSubmit = (e) => {
                e.preventDefault();
                onLogin({ email, password });
            };

            return (
                <div className="container">
                    <div className="header">
                        <h1>üå± Sign In</h1>
                        <p>Welcome back to EcoConnect</p>
                    </div>
                    
                    <div className="card" style={{maxWidth: '400px', margin: '0 auto'}}>
                        <form onSubmit={handleSubmit}>
                            <div className="form-group">
                                <label>Email</label>
                                <input 
                                    type="email" 
                                    value={email}
                                    onChange={(e) => setEmail(e.target.value)}
                                    placeholder="Enter your email"
                                    required
                                />
                            </div>
                            
                            <div className="form-group">
                                <label>Password</label>
                                <input 
                                    type="password"
                                    value={password}
                                    onChange={(e) => setPassword(e.target.value)}
                                    placeholder="Enter your password"
                                    required
                                />
                            </div>
                            
                            <button type="submit" className="btn" style={{width: '100%', marginBottom: '16px'}}>
                                Sign In
                            </button>
                            
                            <div style={{textAlign: 'center'}}>
                                <span>Don't have an account? </span>
                                <button 
                                    type="button"
                                    style={{background: 'none', border: 'none', color: '#4CAF50', cursor: 'pointer', textDecoration: 'underline'}}
                                    onClick={() => onNavigate('register')}
                                >
                                    Sign Up
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            );
        };

        // Register Page Component  
        const RegisterPage = ({ onRegister, onNavigate }) => {
            const [formData, setFormData] = useState({
                username: '',
                email: '',
                password: '',
                phone: '',
                userType: 'Giver',
                isOrganization: false
            });

            const handleChange = (e) => {
                const { name, value, type, checked } = e.target;
                setFormData(prev => ({
                    ...prev,
                    [name]: type === 'checkbox' ? checked : value
                }));
            };

            const handleSubmit = (e) => {
                e.preventDefault();
                onRegister(formData);
            };

            return (
                <div className="container">
                    <div className="header">
                        <h1>üå± Join EcoConnect</h1>
                        <p>Start your recycling journey today</p>
                    </div>
                    
                    <div className="card" style={{maxWidth: '500px', margin: '0 auto'}}>
                        <form onSubmit={handleSubmit}>
                            <div className="form-group">
                                <label>Full Name</label>
                                <input 
                                    name="username"
                                    value={formData.username}
                                    onChange={handleChange}
                                    placeholder="Enter your full name"
                                    required
                                />
                            </div>
                            
                            <div className="form-group">
                                <label>Email</label>
                                <input 
                                    type="email"
                                    name="email"
                                    value={formData.email}
                                    onChange={handleChange}
                                    placeholder="Enter your email"
                                    required
                                />
                            </div>
                            
                            <div className="form-group">
                                <label>Password</label>
                                <input 
                                    type="password"
                                    name="password"
                                    value={formData.password}
                                    onChange={handleChange}
                                    placeholder="Create a password"
                                    required
                                />
                            </div>
                            
                            <div className="form-group">
                                <label>Phone</label>
                                <input 
                                    name="phone"
                                    value={formData.phone}
                                    onChange={handleChange}
                                    placeholder="Enter your phone number"
                                />
                            </div>
                            
                            <div className="form-group">
                                <label>I want to...</label>
                                <select name="userType" value={formData.userType} onChange={handleChange}>
                                    <option value="Giver">Give away recyclable waste</option>
                                    <option value="Collector">Collect recyclable waste</option>
                                </select>
                            </div>
                            
                            <div className="form-group">
                                <label style={{display: 'flex', alignItems: 'center', gap: '8px'}}>
                                    <input 
                                        type="checkbox"
                                        name="isOrganization"
                                        checked={formData.isOrganization}
                                        onChange={handleChange}
                                        style={{width: 'auto'}}
                                    />
                                    I represent an organization
                                </label>
                            </div>
                            
                            <button type="submit" className="btn" style={{width: '100%', marginBottom: '16px'}}>
                                Create Account
                            </button>
                            
                            <div style={{textAlign: 'center'}}>
                                <span>Already have an account? </span>
                                <button 
                                    type="button"
                                    style={{background: 'none', border: 'none', color: '#4CAF50', cursor: 'pointer', textDecoration: 'underline'}}
                                    onClick={() => onNavigate('login')}
                                >
                                    Sign In
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            );
        };

        // Dashboard Component
        const Dashboard = ({ user, onLogout }) => {
            const [activeTab, setActiveTab] = useState('overview');
            const [posts, setPosts] = useState([
                {
                    postID: '1',
                    title: 'PET Bottles Collection',
                    description: 'Clean PET bottles available for pickup',
                    location: 'Manila, Philippines',
                    status: 'Active',
                    items: [
                        { itemName: 'PET Bottles', materialID: 'pet_bottles', sellingPrice: 15.50, kg: 5.2 }
                    ],
                    createdAt: new Date()
                },
                {
                    postID: '2', 
                    title: 'Aluminum Cans Lot',
                    description: 'Large collection of aluminum cans',
                    location: 'Quezon City, Philippines',
                    status: 'Scheduled',
                    items: [
                        { itemName: 'Aluminum Cans', materialID: 'aluminum_cans', sellingPrice: 45.00, kg: 3.8 }
                    ],
                    createdAt: new Date()
                }
            ]);

            const renderOverview = () => (
                <div>
                    <div className="dashboard-grid">
                        <div className="stat-card">
                            <h3>{user.points}</h3>
                            <p>Total Points</p>
                        </div>
                        <div className="stat-card" style={{background: 'linear-gradient(135deg, #2196F3, #1976D2)'}}>
                            <h3>2</h3>
                            <p>Active Posts</p>
                        </div>
                        <div className="stat-card" style={{background: 'linear-gradient(135deg, #FF9800, #F57C00)'}}>
                            <h3>8</h3>
                            <p>Completed Pickups</p>
                        </div>
                        <div className="stat-card" style={{background: 'linear-gradient(135deg, #9C27B0, #7B1FA2)'}}>
                            <h3>3</h3>
                            <p>Badges Earned</p>
                        </div>
                    </div>
                    
                    <div className="card">
                        <h3 style={{marginBottom: '20px'}}>Recent Activity</h3>
                        <div style={{display: 'flex', flexDirection: 'column', gap: '12px'}}>
                            <div style={{padding: '12px', background: '#f8f9fa', borderRadius: '8px'}}>
                                <strong>+15 points</strong> - Completed pickup at Manila
                                <div style={{fontSize: '12px', color: '#666', marginTop: '4px'}}>2 hours ago</div>
                            </div>
                            <div style={{padding: '12px', background: '#f8f9fa', borderRadius: '8px'}}>
                                <strong>New badge earned!</strong> - "Eco Warrior" üèÜ
                                <div style={{fontSize: '12px', color: '#666', marginTop: '4px'}}>1 day ago</div>
                            </div>
                            <div style={{padding: '12px', background: '#f8f9fa', borderRadius: '8px'}}>
                                <strong>+5 points</strong> - Posted new waste collection
                                <div style={{fontSize: '12px', color: '#666', marginTop: '4px'}}>3 days ago</div>
                            </div>
                        </div>
                    </div>
                </div>
            );

            const renderPosts = () => (
                <div>
                    <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '24px'}}>
                        <h2>My Posts</h2>
                        <button className="btn" onClick={() => alert('Create New Post - Would open post creation form')}>
                            + New Post
                        </button>
                    </div>
                    
                    {posts.map(post => (
                        <div key={post.postID} className="post-card">
                            <div className="post-header">
                                <div>
                                    <h3 style={{marginBottom: '8px'}}>{post.title}</h3>
                                    <p style={{color: '#666', marginBottom: '8px'}}>{post.description}</p>
                                    <p style={{fontSize: '14px', color: '#888'}}>üìç {post.location}</p>
                                </div>
                                <span className={`status-badge status-${post.status.toLowerCase()}`}>
                                    {post.status}
                                </span>
                            </div>
                            
                            <div className="items-list">
                                <h4 style={{marginBottom: '12px'}}>Items</h4>
                                {post.items.map((item, index) => (
                                    <div key={index} className="item">
                                        <span><strong>{item.itemName}</strong> - {item.kg} kg</span>
                                        <span style={{color: '#4CAF50', fontWeight: '600'}}>‚Ç±{item.sellingPrice}/kg</span>
                                    </div>
                                ))}
                            </div>
                            
                            <div className="btn-group">
                                <button className="btn btn-small" onClick={() => alert('Edit Post')}>Edit</button>
                                <button className="btn btn-secondary btn-small" onClick={() => alert('View Pickups')}>
                                    View Requests ({Math.floor(Math.random() * 5) + 1})
                                </button>
                            </div>
                        </div>
                    ))}
                </div>
            );

            const renderProfile = () => (
                <div className="card">
                    <h2 style={{marginBottom: '24px'}}>Profile</h2>
                    <div style={{display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '20px'}}>
                        <div className="form-group">
                            <label>First Name</label>
                            <input value={user.firstName} readOnly />
                        </div>
                        <div className="form-group">
                            <label>Last Name</label>
                            <input value={user.lastName} readOnly />
                        </div>
                        <div className="form-group">
                            <label>Email</label>
                            <input value={user.email} readOnly />
                        </div>
                        <div className="form-group">
                            <label>Phone</label>
                            <input value={user.phone} placeholder="Not provided" readOnly />
                        </div>
                        <div className="form-group">
                            <label>User Type</label>
                            <input value={user.userType} readOnly />
                        </div>
                        <div className="form-group">
                            <label>Status</label>
                            <input value="Verified ‚úì" style={{color: '#4CAF50', fontWeight: '600'}} readOnly />
                        </div>
                    </div>
                    <button className="btn" style={{marginTop: '20px'}}>Edit Profile</button>
                </div>
            );

            return (
                <div className="container">
                    <div className="header">
                        <h1>Dashboard</h1>
                        <p>Welcome back, {user.firstName}!</p>
                    </div>
                    
                    <nav className="nav">
                        <ul>
                            <li><button onClick={() => setActiveTab('overview')} style={{fontWeight: activeTab === 'overview' ? '600' : '400'}}>Overview</button></li>
                            <li><button onClick={() => setActiveTab('posts')} style={{fontWeight: activeTab === 'posts' ? '600' : '400'}}>My Posts</button></li>
                            <li><button onClick={() => setActiveTab('profile')} style={{fontWeight: activeTab === 'profile' ? '600' : '400'}}>Profile</button></li>
                            <li><button onClick={onLogout} style={{color: '#f44336'}}>Logout</button></li>
                        </ul>
                    </nav>

                    {activeTab === 'overview' && renderOverview()}
                    {activeTab === 'posts' && renderPosts()}
                    {activeTab === 'profile' && renderProfile()}
                </div>
            );
        };

        // Main App Component (matches your app.js structure)
        const App = () => {
            const [currentPage, setCurrentPage] = useState('landing');
            const [user, setUser] = useState(null);

            const handleLogin = async (credentials) => {
                // Simulate API call to your backend
                console.log('üîÑ Login attempt:', credentials);
                console.log('üì° This would call: POST /api/auth/login');
                
                // Simulate successful login response
                const mockUser = {
                    userID: '123',
                    firstName: 'John',
                    lastName: 'Doe', 
                    email: credentials.email,
                    userType: 'Giver',
                    points: 150,
                    phone: '0999 999 9999'
                };
                
                setUser(mockUser);
                setCurrentPage('dashboard');
                
                alert('‚úÖ Login successful! (This is simulated - your backend will handle real authentication)');
            };

            const handleRegister = async (formData) => {
                // Simulate API call to your backend
                console.log('üîÑ Registration attempt:', formData);
                console.log('üì° This would call: POST /api/auth/register');
                
                // Simulate successful registration
                const mockUser = {
                    userID: '124',
                    firstName: formData.username.split(' ')[0] || formData.username,
                    lastName: formData.username.split(' ')[1] || '',
                    email: formData.email,
                    userType: formData.userType,
                    points: 0,
                    phone: formData.phone
                };
                
                setUser(mockUser);
                setCurrentPage('dashboard');
                
                alert('‚úÖ Registration successful! (This is simulated - your backend will handle real user creation)');
            };

            const handleLogout = () => {
                setUser(null);
                setCurrentPage('landing');
                console.log('üö™ User logged out');
            };

            const handleNavigate = (page) => {
                setCurrentPage(page);
                console.log('üß≠ Navigating to:', page);
            };

            // Render current page (matches your switch statement)
            switch (currentPage) {
                case 'landing':
                    return <LandingPage onNavigate={handleNavigate} />;
                case 'login':
                    return <LoginPage onLogin={handleLogin} onNavigate={handleNavigate} />;
                case 'register':
                    return <RegisterPage onRegister={handleRegister} onNavigate={handleNavigate} />;
                case 'dashboard':
                    return <Dashboard user={user} onLogout={handleLogout} />;
                default:
                    return <LandingPage onNavigate={handleNavigate} />;
            }
        };

        // Render the app
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>